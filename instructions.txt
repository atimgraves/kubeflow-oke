First edit the module.tf file
at a minimum you will need to set the  compartment and tenancy ocid's, your home region and the region you want to deploy in
review the other settings, especially the security settings around control plane access, bastions and operators
consider the ode pool setup and if you want to use the cluster autoscaler

if you are running in the OCI cloud shell (recommended) then you're all good to go, if not you will need to configure the terraform provider security credentials

setup terraform with : terraform init
plan the deployment : terraform plan --out=kubeflow.plan
apply the deployment : terraform apply kubeflow.plan

Now you need to follow the OCI Kubernrtes Environemnt instructins for getting your kubernetes config information and adding it to youre local kubeconfig


Do a kubectl get nodes to be sure that the cluster is accessible

Now you have the cluster look at the install-kubeflow.sh script
setup the version of kustomise and the kubeflow branch to use - for example for kubeflow 1.6 you'd need a branch called v1.6-branch but you need to ensure that the branch you're using is vaid for your cluster and kustomize version. This is because you may find that things in the kubernrtesd change (e.g. autoscaler moving fomr v2beta2 to v2 in kubernrtes 1.26 means that the 1.7 branch of kuberflow woudln't work and you had to use the latest updates to the master branch)


to destroy YOU MUST remove the none terraform constructed OCI resources, specifically the istio gateway load balancer. The easiest way here is to just remove the service with
kubectl delete service istio-ingressgateway  -n istio-system

Then make sure you've not doing anything with external persistence as that wil hang around once you kill off the cluster - and if on the VCN may prevent the VCN being destroyed
once that's gone then running terraform destroy should wipe out the cluster
